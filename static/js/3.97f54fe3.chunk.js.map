{"version":3,"sources":["hoc/withAuthRedirect.js","component/Profile/ProfileInfo/ProfileInfo.module.css","component/Profile/MyPosts/MyPosts.module.css","component/Profile/MyPosts/Post/Post.module.css","component/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","component/Profile/ProfileInfo/ProfileInfo.jsx","component/Profile/MyPosts/Post/Post.jsx","component/Profile/MyPosts/MyPosts.jsx","component/Profile/MyPosts/MyPostsContainer.jsx","component/Profile/Profile.jsx","component/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","_React$Component","Object","_home_varts_socialnetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_varts_socialnetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_varts_socialnetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","arguments","_home_varts_socialnetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_home_varts_socialnetwork_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","props","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","React","connect","module","exports","discription_block","Profile_info","postsBlock","item","posts","ProfileStatusWithHooks","_useState","useState","_useState2","slicedToArray","editMode","setEditMode","_useState3","status","_useState4","setStatus","useEffect","react_default","onDoubleClick","onBlur","updateStatus","onChange","e","currentTarget","autoFocus","ProfileInfo","_ref","profile","className","s","src","photos","large","ProfileInfo_ProfileStatusWithHooks","Preloader","Post","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","p","message","count","maxLength10","maxLengthCreator","MyPosts","nextProps","nextState","_this","console","log","postsComponent","map","po","MyPosts_Post_Post","createRef","AddNewPostRedux","onSubmit","values","addPost","newPost","reduxForm","form","handleSubmit","Field","component","Textarea","name","placeholder","validate","required","MyPostsContainer","profilePage","newPostText","dispatch","addPostActionCreator","Profile","Profile_ProfileInfo_ProfileInfo","MyPosts_MyPostsContainer","ProfileContainer","userId","match","params","authorizedUserId","history","push","getUserProfile","getStatus","component_Profile_Profile","assign","compose","withRouter"],"mappings":"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","file":"static/js/3.97f54fe3.chunk.js","sourcesContent":["import React from 'react';\nimport {Redirect} from 'react-router-dom';\nimport {connect} from \"react-redux\";\n\nlet mapStateToPropsForRedirect = (state)=>({\n    isAuth: state.auth.isAuth,\n});\nexport const withAuthRedirect = (Component) => {\n\n    class RedirectComponent extends React.Component {\n        render(){\n            if (!this.props.isAuth) return <Redirect to={\"/login\"} />\n            return <Component {...this.props} />\n        }\n    }\n\n\n\nlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\n    return ConnectedAuthRedirectComponent;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"discription_block\":\"ProfileInfo_discription_block__358M3\",\"Profile_info\":\"ProfileInfo_Profile_info__1TCRE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__7D_NY\",\"item\":\"MyPosts_item__2R_e5\",\"posts\":\"MyPosts_posts__d_Lf2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__K0G24\"};","import React, {useState, useEffect} from 'react';\n\n\nconst ProfileStatusWithHooks = (props) => {\n \n      let [editMode, setEditMode] = useState(false);\n      let [status, setStatus] = useState(props.status);\n      useEffect( () => {\n        setStatus(props.status);\n      }, [props.status]);\n      const activateEditMode = () => {\n        setEditMode(true)\n      }\n      const deActivateEditMode = ()=> {\n        setEditMode(false)\n        props.updateStatus(status);\n      }\n      const onStatusChange = (e)=>{\n        setStatus(e.currentTarget.value);\n    }\n        return (\n            <div>\n                { !editMode&&\n                  <div>\n                     <span onDoubleClick={activateEditMode}>{props.status||'------------'}</span>\n                  </div>\n                }\n                {editMode&&\n                  <div>\n                     <input onBlur={deActivateEditMode} \n                            onChange={onStatusChange}  \n                            autoFocus={true} \n                            value ={status}\n                            />\n                 </div>\n                }\n            </div>\n        )\n    }\n\n    export default ProfileStatusWithHooks;","import React from 'react';\nimport s from './ProfileInfo.module.css';\nimport Preloader from '../../common/preloader/Preloader';\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\n\n\nconst ProfileInfo =({profile, status, updateStatus}) => {\n    \n        if (!profile){\n            return <Preloader />\n        }\n        return (\n            <div className={s.Profile_info}>\n                <div className={s.discription_block}>\n                    <img src = {profile.photos.large} />\n                    <ProfileStatusWithHooks status ={status} updateStatus={updateStatus}/>\n                </div>\n\n            </div>\n        )\n    }\n\nexport default ProfileInfo;","import React from 'react';\nimport p from './Post.module.css';\n\n\nclass Post extends React.Component {\n    constructor(props) {\n        super(props);\n      }\n    render() {\n\n        return (\n            <div className={p.item}>\n                <img src=\"https://cdn.pixabay.com/photo/2013/07/13/10/07/man-156584__340.png\" />\n                {this.props.message}\n            <div>\n                    <span>LIKE</span>\n                    <span>{this.props.count}</span>\n                </div>\n            </div>\n\n        )\n    }\n}\n\nexport default Post;","import React, {Component} from 'react';\nimport s from './MyPosts.module.css';\nimport Post from './Post/Post';\nimport {reduxForm,Field} from 'redux-form';\nimport {required,maxLengthCreator} from './../../../utils/validators';\nimport {Textarea} from './../../common/formsControls/FormsControls';\n\nconst maxLength10 = maxLengthCreator(10);\n\n\n\nclass MyPosts extends Component {\n    shouldComponentUpdate(nextProps, nextState){\n        return nextProps !== this.props || nextState !== this.state;\n\n    }\n    render(){\n        console.log(\"Render\")\n    let postsComponent = this.props.posts.map(po => <Post count={po.count} message={po.message}/>);\n    let newPost = React.createRef();\n\n    let addNewPost = (values)=>{\n        this.props.addPost(values.newPost);\n}\n    return (\n        <div className={s.postsBlock}>\n             <h1>My posts</h1>\n             <AddNewPostRedux onSubmit={addNewPost} />\n        <div className={s.posts}>\n            {postsComponent}\n        </div>\n        </div>\n    )\n}\n}\nconst AddNewPost = (props) =>{\n    return (\n        <form onSubmit={props.handleSubmit}>\n             <div>\n                <Field component={Textarea} name=\"newPost\" placeholder=\"Enter your post\" \n                validate={[required, maxLength10 ]} />\n            </div>\n             <div>\n                <button>Add post</button>\n             </div>\n        </form>\n    )\n}\nconst AddNewPostRedux = reduxForm({\n    form: \"newPostForm\"\n})(AddNewPost);\n\n\nexport default MyPosts;","import React from 'react';\nimport {addPostActionCreator} from \"../../../state/profilePageReducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\n\n\nlet mapStateToProps = (state)=>{\n    return {\n        posts: state.profilePage.posts,\n        newPostText: state.profilePage.newPostText,\n    }\n}\nlet mapDispatchToProps = (dispatch) =>{\n    return {\n        addPost: (newPost)=>{\n            dispatch(addPostActionCreator(newPost));\n        }\n    }\n}\nconst MyPostsContainer = connect (mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;","import React from 'react';\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\n\n\nconst Profile = (props) =>{\n    return (\n        <div>\n            <ProfileInfo profile ={props.profile} status={props.status} updateStatus={props.updateStatus}/>\n            <MyPostsContainer />\n        </div>\n    )\n}\n\nexport default Profile;","import React from 'react';\nimport Profile from './Profile';\nimport { connect } from 'react-redux';\nimport {getUserProfile, getStatus, updateStatus} from '../../state/profilePageReducer';\nimport {withRouter} from 'react-router-dom';\nimport {withAuthRedirect} from './../../hoc/withAuthRedirect';\nimport { compose } from 'redux';\n\n\nclass ProfileContainer extends React.Component{\n    \n    componentDidMount(){\n        let userId = this.props.match.params.userId;\n        if (!userId){\n            userId = this.props.authorizedUserId;\n            if (!userId){\n                this.props.history.push(\"/login\");\n            }\n        }\n     this.props.getUserProfile(userId);\n     this.props.getStatus(userId);\n}\n    render (){\n\n   \n        return (\n            <div>\n                <Profile {...this.props} profile = {this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus}/>\n            </div>\n        )\n\n}\n}\n\n\nlet mapStateToProps = (state)=>({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorizedUserId: state.auth.userId,\n    isAuth: state.auth.isAuth,\n});\n\n\nexport default compose(\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\n    withRouter,\n    \n)(ProfileContainer);\n\n"],"sourceRoot":""}